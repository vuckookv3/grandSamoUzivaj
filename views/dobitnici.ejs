<%- include('partials/header') %>

<main>
    <div class="background_box background_box--wide_gradient background_box_with_no_bottom">
        <% function mesto(broj) { 
            switch(broj) {
             case 1: return "Prvo";  
             case 2: return "Drugo";  
             case 3: return "Treće";  
             case 4: return "Četvrto";  
             case 5: return "Peto";  
             case 6: return "Šesto"; 
             default: return broj; }
        } %>
        <div class="galerija">
            <h1 class="h1__title">Dobitnici</h1>
            <% if(dobitnici.filter(e => e.winnerPhase === 1).length > 0) { %>
            <h2>Prvi krug konkursa</h2>
            <div class="grid_holder">
                <% dobitnici.filter(e => e.winnerPhase === 1).map(e => { %>
                <div class="grid_box">
                    <a href="/prijave/<%= e._id %>">
                        <div class="img_holder">
                            <% const image = e.picture ? process.env.S3_BUCKET + "/" + e.picture : e.video ? "/images/video-thumb.png" : "/images/picture_thumb.png" %>
                            <img src="<%= image %>" alt="Gallery image">
                            <div class="text_holder">
                                <p class="text_no_hover"><%= e.name %></p>
                                <div class="text_on_hover">
                                    <p class="name"><%= e.name %></p>
                                    <p class="text"><%= e.pictureDescription || e.videoDescription || '' %></p>
                                </div>
                            </div>
                        </div>
                    </a>
                    <p class="osvojeno_mesto"><%= mesto(e.winnerPrize) %> mesto</p>
                    <!-- <img class="share_on_facebook" src="/images/share_icon.png" alt="Share on facebook"> -->
                </div>
                <% }) %>
            </div>
            <% } %>

            <% if(dobitnici.filter(e => e.winnerPhase === 2).length > 0) { %>
            <h2>Drugi krug konkursa</h2>
            <div class="grid_holder">
                <% dobitnici.filter(e => e.winnerPhase === 2).map(e => { %>
                <div class="grid_box">
                    <a href="/prijave/<%= e._id %>">
                        <div class="img_holder">
                            <% const image = e.picture ? process.env.S3_BUCKET + "/" + e.picture : e.video ? "/images/video-thumb.png" : "/images/picture_thumb.png" %>
                            <img src="<%= image %>" alt="Gallery image">
                            <div class="text_holder">
                                <p class="text_no_hover"><%= e.name %></p>
                                <div class="text_on_hover">
                                    <p class="name"><%= e.name %></p>
                                    <p class="text"><%= e.pictureDescription || e.videoDescription || '' %></p>
                                </div>
                            </div>
                        </div>
                    </a>
                    <p class="osvojeno_mesto"><%= mesto(e.winnerPrize) %> mesto</p>
                    <!-- <img class="share_on_facebook" src="/images/share_icon.png" alt="Share on facebook"> -->
                </div>
                <% }) %>
            </div>
            <% } %>

            <% if(dobitnici.filter(e => e.winnerPhase === 3).length > 0) { %>
            <h2>Treći krug konkursa</h2>
            <div class="grid_holder">
                <% dobitnici.filter(e => e.winnerPhase === 3).map(e => { %>
                <div class="grid_box">
                    <a href="/prijave/<%= e._id %>">
                        <div class="img_holder">
                            <% const image = e.picture ? process.env.S3_BUCKET + "/" + e.picture : e.video ? "/images/video-thumb.png" : "/images/picture_thumb.png" %>
                            <img src="<%= image %>" alt="Gallery image">
                            <div class="text_holder">
                                <p class="text_no_hover"><%= e.name %></p>
                                <div class="text_on_hover">
                                    <p class="name"><%= e.name %></p>
                                    <p class="text"><%= e.pictureDescription || e.videoDescription || '' %></p>
                                </div>
                            </div>
                        </div>
                    </a>
                    <p class="osvojeno_mesto"><%= mesto(e.winnerPrize) %> mesto</p>
                    <!-- <img class="share_on_facebook" src="/images/share_icon.png" alt="Share on facebook"> -->
                </div>
                <% }) %>
            </div>
            <% } %>

            <% if(dobitnici.filter(e => e.winnerPhase === 4).length > 0) { %>
            <h2>Četvrti krug konkursa</h2>
            <div class="grid_holder">
                <% dobitnici.filter(e => e.winnerPhase === 4).map(e => { %>
                <div class="grid_box">
                    <a href="/prijave/<%= e._id %>">
                        <div class="img_holder">
                            <% const image = e.picture ? process.env.S3_BUCKET + "/" + e.picture : e.video ? "/images/video-thumb.png" : "/images/picture_thumb.png" %>
                            <img src="<%= image %>" alt="Gallery image">
                            <div class="text_holder">
                                <p class="text_no_hover"><%= e.name %></p>
                                <div class="text_on_hover">
                                    <p class="name"><%= e.name %></p>
                                    <p class="text"><%= e.pictureDescription || e.videoDescription || '' %></p>
                                </div>
                            </div>
                        </div>
                    </a>
                    <p class="osvojeno_mesto"><%= mesto(e.winnerPrize) %> mesto</p>
                    <!-- <img class="share_on_facebook" src="/images/share_icon.png" alt="Share on facebook"> -->
                </div>
                <% }) %>
            </div>
            <% } %>
        </div>
        <div class="strelica strelica__mobile_only">

        </div>
    </div>
</main>

<%- include('partials/footer') %>